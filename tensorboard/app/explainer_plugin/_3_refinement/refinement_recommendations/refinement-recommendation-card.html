<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../tf-imports/d3.html">
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">

<link rel="import" href="../explainer-common/jquery.html">

<link rel="import" href="../refinement/refinement-recommendation.html">

<style>
    .window-button-container {
        position: absolute;
        right: 10px;
        top: 10px;
        display: block;
    }

    .window-button {
        margin: 0 0 0 10px;
        float: right;
        padding: unset;
        max-width: 16px;
        max-height: 16px;
        min-width: 0;
        min-height: 0;
    }
</style>

<dom-module id="refinement-recommendation-card">
    <template>
        <paper-material elevation="1" class="card">
            <div class="window-button-container">
                <paper-button class="window-button"
                              on-click="_minimizeClicked">
                    <iron-icon icon="arrow-downward" class="button-icon"></iron-icon>
                </paper-button>
            </div>

            <refinement-recommendation
                    content-id="[[contentId]]"
            ></refinement-recommendation>
        </paper-material>
    </template>
</dom-module>


<script>
    "use strict";

    (function () {
        Polymer({
            is: 'refinement-recommendation-card',

            properties: {
                contentId: {
                    type: String,
                    readonly: true,
                }
            },
            observers: [],
            attached() {

            },
            _minimizeClicked() {
                const visSVGElement = $(this).find(".refinement-recommendation-svg")[0];
                const polymerProvenanceBar = $("provenance-bar")[0];

                if (visSVGElement && polymerProvenanceBar) {
                    polymerProvenanceBar._pushSVG(visSVGElement);
                }
            },
        })
        ;
    })();
</script>
