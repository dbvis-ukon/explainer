<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../paper-slider/paper-slider.html">
<link rel="import" href="../paper-spinner/paper-spinner-lite.html">
<link rel="import" href="../tf-imports/d3.html">
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">


<style>
    reporting-card {
        display: inline-block;
        position: relative;
       /*  height: 225px; */
/*         margin: 50px 50px 50px 50px;
 */        margin: 5vh 4vw 2vh 4vw;
    }

    .reporting-svg {
        display: block;
        /* height: 100%;
         */border: 1px solid grey;
        background: white;
    }
    .highlightSvg{
        position: absolute;
        width: inherit;
        height: inherit;
        left: 0;
        top: 0;
        pointer-events: none;
    }
    .annotateSvg{
        width: inherit;
        opacity: 0;
        transition: opacity 0.5s ease-in;
        /* pointer-events: none; */
    }
    .annotation{
        width: inherit;
        padding: 0.5vh 0.5vw;
        margin: 0;
        resize: vertical;
        background: white;
        font-family: sans-serif;
        font-size: 1.5vh;
        border: 1px solid grey;
        border-top: none;
        outline: none;
    }
/*     .entry-button-container{
        position: absolute;
        top:0;
        right:0;
    }
 */</style>

<dom-module id="reporting-card">
    <template>
    <div class="annotateSvg">
        <textarea class="annotation" spellcheck="false" readonly></textarea>
    </div>  
      
    </template>
</dom-module>

<script>
    "use strict";

    (function () {
        Polymer({
            is: 'reporting-card',

            properties: {
                svgContent: {
                    type: Object,
                    readonly: true,
                }
            },
            observers: [],
            attached() {
                d3.select(this).append('svg')
                .attr("class","highlightSvg")
                .attr("viewBox","0 0 480 270")
                //.attr("id","hsvg-0")
                

                this.svgContent.setAttribute("class","reporting-svg")
                this.prepend(this.svgContent);

                this.addEventListener("dragstart",(ev) => {
                //    console.log("dragstart", ev.target, ev.target)
                    ev.dataTransfer.setData("text", ev.target.id);
                });
            },
            ready() {

            }
        })
        ;
    })();
</script>
