<link rel="import" href="../polymer/polymer.html">

<style>
    .image-selection-container {
        position: fixed; /* Sit on top of the page content */
        display: block; /* Hidden by default */
        width: 100%; /* Full width (cover the whole page) */
        height: 100%; /* Full height (cover the whole page) */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5); /* Black background with opacity */
        z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
        cursor: pointer; /* Add a pointer on hover */
    }

    .image-selection-table {
        display: table;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    input[type=radio] {
        display: none;
    }

    input[type=radio] + label {
        background-size: 100px 100px;
        border-color: #ffffff;
        border-style: solid;
        border-width: 3px;
        height: 100px;
        width: 100px;
        display: inline-block;
        margin: 20px;
        padding: 0;
    }
</style>

<dom-module id="diagnosis-tool-image-selection" class="diagnosis-tool-image-selection-s">
    <template>
        <div class="image-selection-container" on-click="_imageClicked">
            <div class="image-selection-table">
                <div class="image-selection-table-row">
                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_0_1.png" id="mnist-0-1"/>
                    <label for="mnist-0-1" style="background-image: url('http://127.0.0.1:8000/images/mnist_0_1.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_7_1.png" id="mnist-2-1"/>
                    <label for="mnist-2-1" style="background-image: url('http://127.0.0.1:8000/images/mnist_7_1.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_5_1.png" id="mnist-5-1"/>
                    <label for="mnist-5-1" style="background-image: url('http://127.0.0.1:8000/images/mnist_5_1.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_8_1.png" id="mnist-8-1"/>
                    <label for="mnist-8-1" style="background-image: url('http://127.0.0.1:8000/images/mnist_8_1.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_9_1.png" id="mnist-9-1"/>
                    <label for="mnist-9-1" style="background-image: url('http://127.0.0.1:8000/images/mnist_9_1.png')"></label>
                </div>
                <div class="image-selection-table-row">
                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_0_2.png" id="mnist-0-2"/>
                    <label for="mnist-0-2" style="background-image: url('http://127.0.0.1:8000/images/mnist_0_2.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_2_2.png" id="mnist-2-2"/>
                    <label for="mnist-2-2" style="background-image: url('http://127.0.0.1:8000/images/mnist_2_2.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_5_2.png" id="mnist-5-2"/>
                    <label for="mnist-5-2" style="background-image: url('http://127.0.0.1:8000/images/mnist_5_2.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_8_2.png" id="mnist-8-2"/>
                    <label for="mnist-8-2" style="background-image: url('http://127.0.0.1:8000/images/mnist_8_2.png')"></label>

                    <input type="radio" name='selected-image' data-image-url="http://127.0.0.1:8000/images/mnist_9_2.png" id="mnist-9-2"/>
                    <label for="mnist-9-2" style="background-image: url('http://127.0.0.1:8000/images/mnist_9_2.png')"></label>
                </div>
            </div>
        </div>
    </template>
</dom-module>


<script>
    "use strict";

    (function () {
        Polymer({
            is: 'diagnosis-tool-image-selection',

            properties: {
                _isAttached: {
                    type: Boolean,
                    value: false
                }
            },
            observers: [],
            attached: function () {
                this.set('_isAttached', true);
            },
            _imageClicked: function (e) {
                if (e.target.type === "radio") {
                    this.fire('imageClicked', {imageURL: e.target.getAttribute("data-image-url")});
                }
            },
        });
    })();
</script>
